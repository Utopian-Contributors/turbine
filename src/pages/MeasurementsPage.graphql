query measurements($host: String!, $path: String) {
  measurements(host: $host, path: $path) {
    id
    url
    host {
      id
      host
    }
    redirect
    title
    description
    status
    elapsed
    device {
      id
      type
      width
      height
    }
    screenshots
    connectionType
    bundledFiles {
      ...MeasuredFile
    }
    links
    icon
    thumbnail
  }
}

query measurementDevices {
  measurementDevices {
    id
    type
    width
    height
  }
}

mutation createMeasurement(
  $url: String!
  $device: DeviceType
  $connection: ConnectionType
  $txSignature: String
  $walletAddress: String
  $tokenMint: String
) {
  createMeasurement(
    url: $url
    device: $device
    connection: $connection
    txSignature: $txSignature
    walletAddress: $walletAddress
    tokenMint: $tokenMint
  ) {
    id
    url
    redirect
    title
    description
    status
    elapsed
    bundledFiles {
      ...MeasuredFile
    }
    icon
    thumbnail
  }
}

fragment MeasuredFile on BundledFile {
  id
  url
  size
  type
  cacheControl
  elapsed
  width
  height
  clientWidth
  clientHeight
}

query measurementPrices {
  measurementPrices {
    tokenMint
    amount
  }
}

query website($host: String!) {
  website(host: $host) {
    id
    host
    ratings {
      url
      overallScore
      createdAt
    }
  }
}
